# 백트래킹(Backtracking)

백트래킹은 주어진 문제의 해를 찾기 위해 모든 가능한 경우를 탐색하는 알고리즘 기법입니다. 특히, 최적화 문제나 조합 생성 문제에서 자주 사용됩니다. 백트래킹의 기본 아이디어는 "부분 해답"을 점진적으로 구축하고, 더 이상 유효한 해답이 아닐 경우 "되돌아가는" 것입니다.

## 기본 원리

1. **상태 공간 트리**: 백트래킹은 상태 공간 트리를 사용하여 모든 가능한 조합을 탐색합니다. 각 노드는 현재 상태를 나타내고, 자식 노드는 그 상태에서 가능한 다음 상태를 나타냅니다.

2. **유효성 검사**: 각 단계에서 현재 상태가 유효한지 검사합니다. 유효하지 않다면, 더 이상 그 경로를 탐색하지 않고 이전 단계로 돌아갑니다.

3. **해답 저장**: 모든 조건이 충족되면 현재 상태를 해답으로 저장합니다.

## 예제: 괄호 조합 생성

위의 괄호 조합 생성 문제를 예로 들어 설명해 보겠습니다.

1. **재귀 호출**: 함수가 호출될 때마다 현재까지의 괄호 조합을 나타내는 문자열(`current`)과 열린 괄호(`open`), 닫힌 괄호(`close`)의 개수를 추적합니다.

2. **기본 조건**:
   - 현재 문자열의 길이가 `2 * n`이 되면 모든 괄호 쌍이 사용된 것이므로, 이 상태를 결과 리스트에 추가합니다.

3. **조건에 따른 재귀**:
   - 열린 괄호 `(`를 추가할 수 있는 경우 (`open < n`):
     - 열린 괄호를 추가하고 다음 단계로 이동합니다.
   - 닫힌 괄호 `)`를 추가할 수 있는 경우 (`close < open`):
     - 닫힌 괄호를 추가하고 다음 단계로 이동합니다.

4. **백트래킹**:
   - 각 재귀 호출에서 가능한 경우를 모두 탐색한 후, 함수가 종료되면 이전 상태로 돌아가서 다음 가능한 조합을 탐색합니다.

## 예시 흐름

예를 들어, `n = 2`일 경우의 탐색 과정은 다음과 같습니다:

1. 초기 상태: `""` (빈 문자열)
   - 열린 괄호 추가: `"("`
     - 열린 괄호 추가: `"(("`
       - 닫힌 괄호 추가: `"(())"` → 유효한 조합, 결과에 추가
       - 닫힌 괄호 추가: `"(())"` 후 더 이상 추가할 수 없음 → 백트래킹
     - 닫힌 괄호 추가: `"()"` (백트래킹을 통해 진행)
       - 닫힌 괄호 추가: `"()()"` → 유효한 조합, 결과에 추가

이러한 방식으로 모든 조합을 탐색하고 유효한 것만 결과에 저장하게 됩니다. 이 과정에서 불필요한 경로는 조기에 차단되어 효율성을 높이는 것이 백트래킹의 핵심입니다.
